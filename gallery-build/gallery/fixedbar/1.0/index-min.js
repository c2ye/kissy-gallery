KISSY.add("gallery/fixedbar/1.0/index",function(c){function b(a,d){if(6!=c.UA.ie)if(this instanceof b)this.con=c.one(a),b.superclass.constructor.call(this,d),this.init();else return new b(a,d)}b.ATTRS={top:{value:0},bottom:{value:0},floor:{value:1E10}};c.extend(b,c.Base,{init:function(){var a=this;if(a.con){var b=a.get("top");a.get("bottom");var g=a.get("floor"),h=a.con.offset().top;c.one("body").height();a.con.offset();a.con.height();var e=a.con.css("position"),i=Number(a.con.css("top").replace("px",
"")),j=c.one("body");c.Event.on(window,"scroll",function(){var f=c.DOM.scrollTop();j.height();c.DOM.viewportHeight();b+a.con.height()+f>=g?"absolute"!=a.con.css("position")&&a.con.css({position:"absolute",top:a.con.offset().top}):f+b>h?"fixed"!=a.con.css("position")&&a.con.css({position:"fixed",top:b}):a.con.css("position")!=e&&a.con.css({position:e,top:i})})}},destory:function(){}});return b},{requires:["base","node"]});
